cluster-autoscaler:
  enabled: true
  autoDiscovery:
    clusterName: ${eks_cluster_name}
  awsRegion: ${eks_region}
  rbac:
    serviceAccount:
      name: cluster-autoscaler
      annotations:
        eks.amazonaws.com/role-arn: ${eks_iam_role_arn}
%{ if length(trimspace(acm_certificate_arn)) > 0 }
ingress-nginx:
  controller:
    service:
      annotations:
        service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
        service.beta.kubernetes.io/aws-load-balancer-scheme: "internet-facing"
        service.beta.kubernetes.io/aws-load-balancer-ssl-cert: "${acm_certificate_arn}"
        service.beta.kubernetes.io/aws-load-balancer-ssl-ports: "https"
        service.beta.kubernetes.io/aws-load-balancer-backend-protocol: "http"
      targetPorts:
        https: http
%{ endif }
